import{ref as n,inject as t}from"vue";const e=Symbol("i18n"),o=(n,t)=>{const e=n[0];if(~e.indexOf("[")){const[r,a]=e.split("["),s=parseInt(a.replace("]",""));if(s>-1){if(!t[r]&&t[r].length>0&&t[r][s]&&""!==t[r][s])throw new Error("Not Found");return 1===n.length?"string"==typeof t[r][s]?t[r][s]:"":o(n.slice(1),t[r][s])}throw new Error(`Not Found: ${e}`)}if(t[n[0]]||""===t[n[0]])return 1===n.length?"string"==typeof t[n[0]]?t[n[0]]:"":o(n.slice(1),t[n[0]]);throw new Error("Not Found")},r=t=>{const r=n(t.locale||"en"),a=t.messages;return{messages:a,t:n=>{const t=a[r.value]||a.en;if("string"!=typeof n)return console.warn("Warn(i18n):","keypath must be a type of string"),"";try{return o(n.split("."),t)}catch(t){return console.warn(`Warn(i18n): the keypath '${n}' not found`),""}},setLocale:n=>{a[n]||console.warn(`Warn(i18n): the '${n}' language pack not found, fall back to English language pack`),r.value=n},getLocale:()=>r.value,install(n){const t=this;n.provide(e,t),n.config.globalProperties.$t=t.t,n.config.globalProperties.$i18n=t}}};function a(){return t(e)}export{r as createI18n,e as i18nSymbol,a as useI18n};
